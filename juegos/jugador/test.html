<!DOCTYPE html>
<html lang="es">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test FNF</title>

<style>
body{
  margin:0;
  background:#0a0a0a;
  color:#c084fc;
  font-family:sans-serif;
}

#game{
  position:fixed;
  inset:0;
}

.lane{
  position:absolute;
  width:25%;
  height:100%;
  border:1px solid #c084fc;
}

.note{
  position:absolute;
  width:60%;
  height:30px;
  background:#c084fc;
  left:20%;
  border-radius:6px;
}
</style>
</head>

<body>

<button id="start">INICIAR</button>

<div id="game" style="display:none">
  <div class="lane" style="left:0%"></div>
  <div class="lane" style="left:25%"></div>
  <div class="lane" style="left:50%"></div>
  <div class="lane" style="left:75%"></div>
</div>

<script>
const btn = document.getElementById("start");
const game = document.getElementById("game");
const lanes = document.querySelectorAll(".lane");

let beatInterval;

btn.onclick = ()=>{
  btn.remove();
  game.style.display="block";

  // ritmo artificial (120 BPM)
  beatInterval = setInterval(spawnNote, 500);
};

function spawnNote(){
  const lane = lanes[Math.floor(Math.random()*4)];
  const note = document.createElement("div");
  note.className="note";
  note.style.top="-30px";
  lane.appendChild(note);

  let y=-30;
  function fall(){
    y+=5;
    note.style.top=y+"px";
    if(y<innerHeight) requestAnimationFrame(fall);
    else note.remove();
  }
  fall();
}
</script>

</body>
</html>
