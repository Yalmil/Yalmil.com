<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Conversor de Texto Multi-Sistema</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #330a00, #662000);
      color: #ffd8a6;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      animation: fadeIn 0.8s ease-out;
      padding: 20px;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .container {
      background: rgba(60, 20, 0, 0.3);
      backdrop-filter: blur(8px);
      border: 2px solid #ff8c00;
      border-radius: 1rem;
      box-shadow: 0 0 25px #ff8c0055;
      padding: 2rem;
      max-width: 800px;
      width: 100%;
      animation: popIn 0.5s ease-out;
    }

    @keyframes popIn {
      from { transform: scale(0.97); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    h1 {
      text-align: center;
      font-size: 2rem;
      color: #ff8c00;
      text-shadow: 0 0 10px #ff8c00aa;
      margin-bottom: 2rem;
    }

    label {
      display: block;
      font-weight: 600;
      color: #ffb366;
      margin-bottom: 10px;
    }

    textarea, select {
      width: 100%;
      padding: 15px;
      border: 2px solid #ff8c00;
      border-radius: 0.8rem;
      background: rgba(50, 10, 0, 0.3);
      color: #ffd8a6;
      font-size: 1em;
      outline: none;
      transition: 0.3s;
    }

    textarea:focus, select:focus {
      border-color: #ffb366;
      box-shadow: 0 0 10px #ff8c0077;
      background: rgba(60, 20, 0, 0.4);
    }

    select:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    .info-text {
      text-align: center;
      color: #ffb366;
      font-style: italic;
      margin-top: 10px;
      opacity: 0.8;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .result-section {
      margin-top: 2rem;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.3s ease;
    }

    .result-section.show {
      opacity: 1;
      transform: translateY(0);
    }

    .copy-btn {
      margin-top: 1rem;
      padding: 12px 25px;
      background: linear-gradient(45deg, #ff8c00, #ffb366);
      color: #331400;
      font-weight: 600;
      border: none;
      border-radius: 2rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px #ff8c0044;
    }

    .copy-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 25px #ff8c0077;
    }

    .copy-btn:active {
      transform: translateY(0);
    }

    @media (max-width: 600px) {
      .container {
        padding: 1.5rem;
      }
      h1 {
        font-size: 1.6rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üîÑ Conversor de Texto</h1>

    <div class="input-section">
      <label for="textInput">Ingresa tu texto:</label>
      <textarea id="textInput" placeholder="Escribe aqu√≠ el texto que quieres convertir..."></textarea>
    </div>

    <div class="system-section" id="systemSection">
      <label for="systemSelect">Selecciona el sistema de codificaci√≥n:</label>
      <select id="systemSelect" disabled>
        <option value="">-- Primero ingresa un texto --</option>
        <option value="base64">Base64</option>
        <option value="hex">Hexadecimal</option>
        <option value="binary">Binario</option>
        <option value="octal">Octal</option>
        <option value="ascii">ASCII (c√≥digos)</option>
        <option value="url">URL Encode</option>
        <option value="html">HTML Entities</option>
        <option value="unicode">Unicode Escape</option>
        <option value="rot13">ROT13</option>
        <option value="morse">C√≥digo Morse</option>
        <option value="base32">Base32</option>
        <option value="md5">MD5 Hash</option>
        <option value="sha1">SHA-1 Hash</option>
        <option value="sha256">SHA-256 Hash</option>
        <option value="reverse">Texto Invertido</option>
        <option value="caesar">C√©sar (desplazamiento 3)</option>
        <option value="atbash">Cifrado Atbash</option>
        <option value="leetspeak">Leet Speak (1337)</option>
      </select>
      <p class="info-text">‚¨ÜÔ∏è Escribe texto arriba para desbloquear las opciones</p>
    </div>

    <div class="result-section" id="resultSection">
      <label for="result">Resultado:</label>
      <textarea id="result" readonly></textarea>
      <button class="copy-btn" onclick="copyResult()">üìã Copiar Resultado</button>
    </div>
  </div>

  <script>
    const textInput = document.getElementById('textInput');
    const systemSelect = document.getElementById('systemSelect');
    const systemSection = document.getElementById('systemSection');
    const result = document.getElementById('result');
    const resultSection = document.getElementById('resultSection');

    const conversions = {
      base64: (t) => btoa(unescape(encodeURIComponent(t))),
      hex: (t) => Array.from(new TextEncoder().encode(t)).map(b => b.toString(16).padStart(2, '0')).join(''),
      binary: (t) => Array.from(new TextEncoder().encode(t)).map(b => b.toString(2).padStart(8, '0')).join(' '),
      octal: (t) => Array.from(new TextEncoder().encode(t)).map(b => b.toString(8)).join(' '),
      ascii: (t) => Array.from(t).map(c => c.charCodeAt(0)).join(' '),
      url: (t) => encodeURIComponent(t),
      html: (t) => t.replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])),
      unicode: (t) => Array.from(t).map(c => '\\u' + c.charCodeAt(0).toString(16).padStart(4, '0')).join(''),
      rot13: (t) => t.replace(/[a-zA-Z]/g, c => String.fromCharCode((c <= 'Z' ? 90 : 122) >= (c = c.charCodeAt(0)+13) ? c : c-26)),
      morse: (t) => {
        const m = {'A':'.-','B':'-...','C':'-.-.','D':'-..','E':'.','F':'..-.','G':'--.','H':'....','I':'..','J':'.---','K':'-.-','L':'.-..','M':'--','N':'-.','O':'---','P':'.--.','Q':'--.-','R':'.-.','S':'...','T':'-','U':'..-','V':'...-','W':'.--','X':'-..-','Y':'-.--','Z':'--..','0':'-----','1':'.----','2':'..---','3':'...--','4':'....-','5':'.....','6':'-....','7':'--...','8':'---..','9':'----.',' ':'/'};
        return t.toUpperCase().split('').map(c => m[c] || c).join(' ');
      },
      base32: (t) => {
        const a = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567';
        const b = new TextEncoder().encode(t);
        let r = '', buf = 0, bits = 0;
        for (let byte of b) {
          buf = (buf << 8) | byte;
          bits += 8;
          while (bits >= 5) {
            r += a[(buf >> (bits - 5)) & 31];
            bits -= 5;
          }
        }
        if (bits > 0) r += a[(buf << (5 - bits)) & 31];
        return r;
      },
      md5: async (t) => {
        const e = new TextEncoder().encode(t);
        const h = await crypto.subtle.digest('MD5', e).catch(() => null);
        if (!h) return 'MD5 no soportado';
        return Array.from(new Uint8Array(h)).map(b => b.toString(16).padStart(2,'0')).join('');
      },
      sha1: async (t) => {
        const e = new TextEncoder().encode(t);
        const h = await crypto.subtle.digest('SHA-1', e);
        return Array.from(new Uint8Array(h)).map(b => b.toString(16).padStart(2,'0')).join('');
      },
      sha256: async (t) => {
        const e = new TextEncoder().encode(t);
        const h = await crypto.subtle.digest('SHA-256', e);
        return Array.from(new Uint8Array(h)).map(b => b.toString(16).padStart(2,'0')).join('');
      },
      reverse: (t) => t.split('').reverse().join(''),
      caesar: (t) => t.replace(/[a-zA-Z]/g, c => String.fromCharCode((c <= 'Z'?90:122)>=(c=c.charCodeAt(0)+3)?c:c-23)),
      atbash: (t) => t.replace(/[a-zA-Z]/g, c => String.fromCharCode((c <= 'Z'?90:122)-(c.charCodeAt(0)-(c<='Z'?65:97)))),
      leetspeak: (t) => t.toLowerCase().replace(/[aeiostl]/g, c => ({a:'4',e:'3',i:'1',o:'0',s:'5',t:'7',l:'1'}[c]))
    };

    textInput.addEventListener('input', () => {
      const hasText = textInput.value.trim().length > 0;
      systemSelect.disabled = !hasText;
      systemSection.classList.toggle('enabled', hasText);
      if (!hasText) resultSection.classList.remove('show');
    });

    systemSelect.addEventListener('change', async () => {
      const text = textInput.value.trim();
      const system = systemSelect.value;
      if (!text || !system) return (resultSection.classList.remove('show'));
      const converter = conversions[system];
      try {
        const converted = await converter(text);
        result.value = converted;
        resultSection.classList.add('show');
      } catch (e) {
        result.value = 'Error en la conversi√≥n: ' + e.message;
        resultSection.classList.add('show');
      }
    });

    function copyResult() {
      result.select();
      document.execCommand('copy');
      const btn = event.target;
      btn.textContent = '‚úÖ ¬°Copiado!';
      setTimeout(() => btn.textContent = 'üìã Copiar Resultado', 2000);
    }
  </script>
</body>
</html>
